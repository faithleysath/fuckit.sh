import * from "../utils/json.ab"

// Example usage
main {
    let saying = "He said: \"Hi\"\nNew line with\\ a backslash"
    
    echo "--- With jq ---"
    let escaped = trust safe_escape_json(saying)
    echo "Original: {saying}"
    echo "Escaped:  {escaped}"

    echo "\n--- Without jq ---"
    let escaped_no_jq = safe_escape_json_no_jq(saying)
    echo "Original: {saying}"
    echo "Escaped:  {escaped_no_jq}"

    echo "\n--- JSON Parsing ---"
    let json_str = "\{\"says\": {escaped_no_jq}}"
    echo "Extracted Says: {trust extract_json_value(json_str, "says")}"
}
